{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useNavigation } from '@react-navigation/native';\nimport { useState, useEffect } from \"react\";\nimport { api } from \"../lib/axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function BookButton() {\n  var _useNavigation = useNavigation(),\n    navigate = _useNavigation.navigate;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    books = _useState4[0],\n    setBooks = _useState4[1];\n  function fetchData() {\n    return _fetchData.apply(this, arguments);\n  }\n  function _fetchData() {\n    _fetchData = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var response = yield api.get('/books');\n        setBooks(response.data);\n        console.log(response.data);\n      } catch (error) {\n        Alert.alert('Ops :(', 'Não encontramos nenhum livro cadastrado');\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return _fetchData.apply(this, arguments);\n  }\n  useEffect(function () {\n    fetchData();\n  }, []);\n  return _jsx(_StyledComponent, {\n    className: \"w-28 h-40 items-center justify-center bg-gray-700 rounded-lg m-2\",\n    activeOpacity: 0.7,\n    onPress: function onPress() {\n      return navigate('book');\n    },\n    component: TouchableOpacity,\n    children: loading ? _jsx(Text, {\n      style: {\n        color: 'white',\n        textAlign: 'center'\n      },\n      children: \"Carregando...\"\n    }) : books != null && books.length ? _jsx(Text, {\n      style: {\n        color: 'white',\n        textAlign: 'center'\n      },\n      children: books[1].title\n    }) : _jsx(Text, {\n      style: {\n        color: 'white',\n        textAlign: 'center'\n      },\n      children: \"Nenhum livro encontrado\"\n    })\n  });\n}\n_NativeWindStyleSheet.create({\n  styles: {\n    \"m-2\": {\n      \"marginTop\": 8,\n      \"marginRight\": 8,\n      \"marginBottom\": 8,\n      \"marginLeft\": 8\n    },\n    \"h-40\": {\n      \"height\": 160\n    },\n    \"w-28\": {\n      \"width\": 112\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"rounded-lg\": {\n      \"borderTopLeftRadius\": 8,\n      \"borderTopRightRadius\": 8,\n      \"borderBottomRightRadius\": 8,\n      \"borderBottomLeftRadius\": 8\n    },\n    \"bg-gray-700\": {\n      \"backgroundColor\": \"#374151\"\n    }\n  }\n});","map":{"version":3,"names":["useNavigation","useState","useEffect","api","jsx","_jsx","BookButton","_useNavigation","navigate","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","books","setBooks","fetchData","_fetchData","apply","arguments","_asyncToGenerator","response","get","data","console","log","error","Alert","alert","_StyledComponent","className","activeOpacity","onPress","component","TouchableOpacity","children","Text","style","color","textAlign","length","title","_NativeWindStyleSheet","create","styles"],"sources":["C:/Users/beatr/OneDrive/Área de Trabalho/ppo/create-booknotes/mobile/src/components/BookButton.tsx"],"sourcesContent":["import { TouchableOpacity, Text, Alert } from \"react-native\";\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { useState, useEffect } from \"react\";\r\nimport { api } from \"../lib/axios\";\r\n\r\ntype BooksProps = Array<{\r\n  id: string;\r\n  title: string;\r\n  author: string;\r\n  pcompany: string;\r\n}>\r\n\r\nexport function BookButton() {\r\n  const { navigate } = useNavigation();\r\n  const [loading, setLoading] = useState(true);\r\n  const [books, setBooks] = useState<BooksProps | null>(null);\r\n\r\n  async function fetchData() {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/books');\r\n      setBooks(response.data);\r\n      console.log(response.data);\r\n    } catch (error) {\r\n      Alert.alert('Ops :(', 'Não encontramos nenhum livro cadastrado');\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []); \r\n  return (\r\n\r\n    <TouchableOpacity\r\n      className=\"w-28 h-40 items-center justify-center bg-gray-700 rounded-lg m-2\"\r\n      activeOpacity={0.7}\r\n      onPress={() => navigate('book')} // Substitua 'bookId' pelo ID real do livro\r\n    >\r\n      {loading ? (\r\n        <Text style={{ color: 'white', textAlign: 'center' }}>Carregando...</Text>\r\n      ) : books?.length ? (\r\n        <Text style={{ color: 'white', textAlign: 'center' }}>{books[1].title}</Text>\r\n      ) : (\r\n        <Text style={{ color: 'white', textAlign: 'center' }}>Nenhum livro encontrado</Text>\r\n      )}\r\n    </TouchableOpacity>\r\n  )\r\n}\r\n"],"mappings":";;;;;;;AACA,SAASA,aAAa,QAAQ,0BAA0B;AACxD,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,GAAG;AAAuB,SAAAC,GAAA,IAAAC,IAAA;AASnC,OAAO,SAASC,UAAUA,CAAA,EAAG;EAC3B,IAAAC,cAAA,GAAqBP,aAAa,CAAC,CAAC;IAA5BQ,QAAQ,GAAAD,cAAA,CAARC,QAAQ;EAChB,IAAAC,SAAA,GAA8BR,QAAQ,CAAC,IAAI,CAAC;IAAAS,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAC1B,IAAAI,UAAA,GAA0Bb,QAAQ,CAAoB,IAAI,CAAC;IAAAc,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAApDE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAAsC,SAE7CG,SAASA,CAAA;IAAA,OAAAC,UAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,WAAA;IAAAA,UAAA,GAAAG,iBAAA,CAAxB,aAA2B;MACzB,IAAI;QACFT,UAAU,CAAC,IAAI,CAAC;QAChB,IAAMU,QAAQ,SAASpB,GAAG,CAACqB,GAAG,CAAC,QAAQ,CAAC;QACxCP,QAAQ,CAACM,QAAQ,CAACE,IAAI,CAAC;QACvBC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACE,IAAI,CAAC;MAC5B,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdC,KAAK,CAACC,KAAK,CAAC,QAAQ,EAAE,yCAAyC,CAAC;QAChEJ,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MACpB,CAAC,SAAS;QACRf,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAAA,OAAAM,UAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAEDnB,SAAS,CAAC,YAAM;IACdgB,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EACN,OAAAb,IAAA,CAAA0B,gBAAA;IAGIC,SAAS,EAAC,kEAAkE;IAC5EC,aAAa,EAAE,GAAI;IACnBC,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAM1B,QAAQ,CAAC,MAAM,CAAC;IAAA,CAAC;IAAA2B,SAAA,EAAAC,gBAAA;IAAAC,QAAA,EAE/BzB,OAAO,GACNP,IAAA,CAACiC,IAAI;MAACC,KAAK,EAAE;QAAEC,KAAK,EAAE,OAAO;QAAEC,SAAS,EAAE;MAAS,CAAE;MAAAJ,QAAA,EAAC;IAAa,CAAM,CAAC,GACxErB,KAAK,YAALA,KAAK,CAAE0B,MAAM,GACfrC,IAAA,CAACiC,IAAI;MAACC,KAAK,EAAE;QAAEC,KAAK,EAAE,OAAO;QAAEC,SAAS,EAAE;MAAS,CAAE;MAAAJ,QAAA,EAAErB,KAAK,CAAC,CAAC,CAAC,CAAC2B;IAAK,CAAO,CAAC,GAE7EtC,IAAA,CAACiC,IAAI;MAACC,KAAK,EAAE;QAAEC,KAAK,EAAE,OAAO;QAAEC,SAAS,EAAE;MAAS,CAAE;MAAAJ,QAAA,EAAC;IAAuB,CAAM;EACpF;AAGP;AAACO,qBAAA,CAAAC,MAAA;EAAAC,MAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}