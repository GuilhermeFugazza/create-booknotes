{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport React from \"react\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport InteractionManager from \"react-native-web/dist/exports/InteractionManager\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport tinycolor from \"tinycolor2\";\nimport { createPanResponder, rotatePoint } from \"./utils\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction makeRotationKey(props, angle) {\n  var rotationHackFactor = props.rotationHackFactor;\n  if (rotationHackFactor < 1) {\n    return undefined;\n  }\n  var key = Math.floor(angle * rotationHackFactor);\n  return \"r\" + key;\n}\nvar TriangleColorPicker = function (_super) {\n  __extends(TriangleColorPicker, _super);\n  function TriangleColorPicker(props, ctx) {\n    var _this = _super.call(this, props, ctx) || this;\n    _this._handleColorChange = function (_a) {\n      var x = _a.x,\n        y = _a.y;\n      if (_this._changingHColor) {\n        _this._handleHColorChange({\n          x: x,\n          y: y\n        });\n      } else {\n        _this._handleSVColorChange({\n          x: x,\n          y: y\n        });\n      }\n      return true;\n    };\n    var state = {\n      color: {\n        h: 0,\n        s: 1,\n        v: 1\n      },\n      pickerSize: null\n    };\n    if (props.oldColor) {\n      state.color = tinycolor(props.oldColor).toHsv();\n    }\n    if (props.defaultColor) {\n      state.color = tinycolor(props.defaultColor).toHsv();\n    }\n    _this.state = state;\n    _this._layout = {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0\n    };\n    _this._pageX = 0;\n    _this._pageY = 0;\n    _this._onLayout = _this._onLayout.bind(_this);\n    _this._onSValueChange = _this._onSValueChange.bind(_this);\n    _this._onVValueChange = _this._onVValueChange.bind(_this);\n    _this._onColorSelected = _this._onColorSelected.bind(_this);\n    _this._onOldColorSelected = _this._onOldColorSelected.bind(_this);\n    _this._isRTL = I18nManager.isRTL;\n    _this._pickerResponder = createPanResponder({\n      onStart: function onStart(_a) {\n        var x = _a.x,\n          y = _a.y;\n        var _b = _this._computeColorFromTriangle({\n            x: x,\n            y: y\n          }),\n          s = _b.s,\n          v = _b.v;\n        _this._changingHColor = s > 1 || s < 0 || v > 1 || v < 0;\n        _this._handleColorChange({\n          x: x,\n          y: y\n        });\n        return true;\n      },\n      onMove: _this._handleColorChange\n    });\n    return _this;\n  }\n  TriangleColorPicker.prototype._getColor = function () {\n    var passedColor = typeof this.props.color === \"string\" ? tinycolor(this.props.color).toHsv() : this.props.color;\n    return passedColor || this.state.color;\n  };\n  TriangleColorPicker.prototype._onColorSelected = function () {\n    var onColorSelected = this.props.onColorSelected;\n    var color = tinycolor(this._getColor()).toHexString();\n    onColorSelected && onColorSelected(color);\n  };\n  TriangleColorPicker.prototype._onOldColorSelected = function () {\n    var _a = this.props,\n      oldColor = _a.oldColor,\n      onOldColorSelected = _a.onOldColorSelected;\n    var color = tinycolor(oldColor);\n    this.setState({\n      color: color.toHsv()\n    });\n    onOldColorSelected && onOldColorSelected(color.toHexString());\n  };\n  TriangleColorPicker.prototype._onSValueChange = function (s) {\n    var _a = this._getColor(),\n      h = _a.h,\n      v = _a.v;\n    this._onColorChange({\n      h: h,\n      s: s,\n      v: v\n    });\n  };\n  TriangleColorPicker.prototype._onVValueChange = function (v) {\n    var _a = this._getColor(),\n      h = _a.h,\n      s = _a.s;\n    this._onColorChange({\n      h: h,\n      s: s,\n      v: v\n    });\n  };\n  TriangleColorPicker.prototype._onColorChange = function (color) {\n    this.setState({\n      color: color\n    });\n    if (this.props.onColorChange) {\n      this.props.onColorChange(color);\n    }\n  };\n  TriangleColorPicker.prototype._onLayout = function (l) {\n    var _this = this;\n    this._layout = l.nativeEvent.layout;\n    var _a = this._layout,\n      width = _a.width,\n      height = _a.height;\n    var pickerSize = Math.min(width, height);\n    if (this.state.pickerSize !== pickerSize) {\n      this.setState({\n        pickerSize: pickerSize\n      });\n    }\n    InteractionManager.runAfterInteractions(function () {\n      _this.refs.pickerContainer && _this.refs.pickerContainer.measure(function (x, y, width, height, pageX, pageY) {\n        _this._pageX = pageX;\n        _this._pageY = pageY;\n      });\n    });\n  };\n  TriangleColorPicker.prototype._computeHValue = function (x, y) {\n    var mx = this.state.pickerSize / 2;\n    var my = this.state.pickerSize / 2;\n    var dx = x - mx;\n    var dy = y - my;\n    var rad = Math.atan2(dx, dy) + Math.PI + Math.PI / 2;\n    return rad * 180 / Math.PI % 360;\n  };\n  TriangleColorPicker.prototype._hValueToRad = function (deg) {\n    var rad = deg * Math.PI / 180;\n    return rad - Math.PI - Math.PI / 2;\n  };\n  TriangleColorPicker.prototype.getColor = function () {\n    return tinycolor(this._getColor()).toHexString();\n  };\n  TriangleColorPicker.prototype._handleHColorChange = function (_a) {\n    var x = _a.x,\n      y = _a.y;\n    var _b = this._getColor(),\n      s = _b.s,\n      v = _b.v;\n    var marginLeft = (this._layout.width - this.state.pickerSize) / 2;\n    var marginTop = (this._layout.height - this.state.pickerSize) / 2;\n    var relativeX = x - this._pageX - marginLeft;\n    var relativeY = y - this._pageY - marginTop;\n    var h = this._computeHValue(relativeX, relativeY);\n    this._onColorChange({\n      h: h,\n      s: s,\n      v: v\n    });\n  };\n  TriangleColorPicker.prototype._handleSVColorChange = function (_a) {\n    var x = _a.x,\n      y = _a.y;\n    var _b = this._computeColorFromTriangle({\n        x: x,\n        y: y\n      }),\n      h = _b.h,\n      rawS = _b.s,\n      rawV = _b.v;\n    var s = Math.min(Math.max(0, rawS), 1);\n    var v = Math.min(Math.max(0, rawV), 1);\n    this._onColorChange({\n      h: h,\n      s: s,\n      v: v\n    });\n  };\n  TriangleColorPicker.prototype._normalizeTriangleTouch = function (s, v, sRatio) {\n    var CORNER_ZONE_SIZE = 0.12;\n    var NORMAL_MARGIN = 0.1;\n    var CORNER_MARGIN = 0.05;\n    var margin = NORMAL_MARGIN;\n    var posNS = v > 0 ? 1 - (1 - s) * sRatio : 1 - s * sRatio;\n    var negNS = v > 0 ? s * sRatio : (1 - s) * sRatio;\n    var ns = s > 1 ? posNS : negNS;\n    var rightCorner = s > 1 - CORNER_ZONE_SIZE && v > 1 - CORNER_ZONE_SIZE;\n    var leftCorner = ns < 0 + CORNER_ZONE_SIZE && v > 1 - CORNER_ZONE_SIZE;\n    var topCorner = ns < 0 + CORNER_ZONE_SIZE && v < 0 + CORNER_ZONE_SIZE;\n    if (rightCorner) {\n      return {\n        s: s,\n        v: v\n      };\n    }\n    if (leftCorner || topCorner) {\n      margin = CORNER_MARGIN;\n    }\n    s = s < 0 && ns > 0 - margin ? 0 : s;\n    s = s > 1 && ns < 1 + margin ? 1 : s;\n    v = v < 0 && v > 0 - margin ? 0 : v;\n    v = v > 1 && v < 1 + margin ? 1 : v;\n    return {\n      s: s,\n      v: v\n    };\n  };\n  TriangleColorPicker.prototype._computeColorFromTriangle = function (_a) {\n    var x = _a.x,\n      y = _a.y;\n    var pickerSize = this.state.pickerSize;\n    var _b = getPickerProperties(pickerSize),\n      triangleHeight = _b.triangleHeight,\n      triangleWidth = _b.triangleWidth;\n    var left = pickerSize / 2 - triangleWidth / 2;\n    var top = pickerSize / 2 - 2 * triangleHeight / 3;\n    var marginLeft = (this._layout.width - this.state.pickerSize) / 2;\n    var marginTop = (this._layout.height - this.state.pickerSize) / 2;\n    var relativeX = x - this._pageX - marginLeft - left;\n    var relativeY = y - this._pageY - marginTop - top;\n    var h = this._getColor().h;\n    var deg = (h - 330 + 360) % 360;\n    var rad = deg * Math.PI / 180;\n    var center = {\n      x: triangleWidth / 2,\n      y: 2 * triangleHeight / 3\n    };\n    var rotated = rotatePoint({\n      x: relativeX,\n      y: relativeY\n    }, rad, center);\n    var line = triangleWidth * rotated.y / triangleHeight;\n    var margin = triangleWidth / 2 - triangleWidth / 2 * rotated.y / triangleHeight;\n    var s = (rotated.x - margin) / line;\n    var v = rotated.y / triangleHeight;\n    var normalized = this._normalizeTriangleTouch(s, v, line / triangleHeight);\n    return {\n      h: h,\n      s: normalized.s,\n      v: normalized.v\n    };\n  };\n  TriangleColorPicker.prototype.render = function () {\n    var pickerSize = this.state.pickerSize;\n    var _a = this.props,\n      oldColor = _a.oldColor,\n      style = _a.style;\n    var color = this._getColor();\n    var h = color.h;\n    var angle = this._hValueToRad(h);\n    var selectedColor = tinycolor(color).toHexString();\n    var indicatorColor = tinycolor({\n      h: h,\n      s: 1,\n      v: 1\n    }).toHexString();\n    var computed = makeComputedStyles({\n      pickerSize: pickerSize,\n      selectedColorHsv: color,\n      indicatorColor: indicatorColor,\n      angle: angle,\n      isRTL: this._isRTL\n    });\n    var rotationHack = makeRotationKey(this.props, angle);\n    return _jsxs(View, {\n      style: style,\n      children: [_jsx(View, {\n        onLayout: this._onLayout,\n        ref: \"pickerContainer\",\n        style: styles.pickerContainer,\n        children: !pickerSize ? null : _jsxs(View, {\n          children: [_jsxs(View, {\n            style: [styles.triangleContainer, computed.triangleContainer],\n            children: [_jsx(View, {\n              style: [styles.triangleUnderlayingColor, computed.triangleUnderlayingColor]\n            }), _jsx(Image, {\n              style: [computed.triangleImage],\n              source: require(\"../resources/hsv_triangle_mask.png\")\n            })]\n          }, rotationHack), _jsxs(View, _objectSpread(_objectSpread({}, this._pickerResponder.panHandlers), {}, {\n            style: [computed.picker],\n            collapsable: false,\n            children: [_jsx(Image, {\n              source: require(\"../resources/color-circle.png\"),\n              resizeMode: \"contain\",\n              style: [styles.pickerImage]\n            }), _jsx(View, {\n              style: [styles.pickerIndicator, computed.pickerIndicator],\n              children: _jsx(View, {\n                style: [styles.pickerIndicatorTick, computed.pickerIndicatorTick]\n              })\n            }, rotationHack), _jsx(View, {\n              style: [styles.svIndicator, computed.svIndicator]\n            })]\n          }))]\n        })\n      }), this.props.hideControls == true ? null : _jsxs(View, {\n        style: [styles.colorPreviews, computed.colorPreviews],\n        children: [oldColor && _jsx(TouchableOpacity, {\n          style: [styles.colorPreview, {\n            backgroundColor: oldColor\n          }],\n          onPress: this._onOldColorSelected,\n          activeOpacity: 0.7\n        }), _jsx(TouchableOpacity, {\n          style: [styles.colorPreview, {\n            backgroundColor: selectedColor\n          }],\n          onPress: this._onColorSelected,\n          activeOpacity: 0.7\n        })]\n      })]\n    });\n  };\n  TriangleColorPicker.defaultProps = {\n    rotationHackFactor: 100\n  };\n  return TriangleColorPicker;\n}(React.PureComponent);\nexport { TriangleColorPicker };\nfunction getPickerProperties(pickerSize) {\n  var indicatorPickerRatio = 42 / 510;\n  var originalIndicatorSize = indicatorPickerRatio * pickerSize;\n  var indicatorSize = originalIndicatorSize;\n  var pickerPadding = originalIndicatorSize / 3;\n  var triangleSize = pickerSize - 6 * pickerPadding;\n  var triangleRadius = triangleSize / 2;\n  var triangleHeight = triangleRadius * 3 / 2;\n  var triangleWidth = 2 * triangleRadius * Math.sqrt(3 / 4);\n  return {\n    triangleSize: triangleSize,\n    triangleRadius: triangleRadius,\n    triangleHeight: triangleHeight,\n    triangleWidth: triangleWidth,\n    indicatorPickerRatio: indicatorPickerRatio,\n    indicatorSize: indicatorSize,\n    pickerPadding: pickerPadding\n  };\n}\nvar makeComputedStyles = function makeComputedStyles(_a) {\n  var _b, _c;\n  var indicatorColor = _a.indicatorColor,\n    angle = _a.angle,\n    pickerSize = _a.pickerSize,\n    selectedColorHsv = _a.selectedColorHsv,\n    isRTL = _a.isRTL;\n  var _d = getPickerProperties(pickerSize),\n    triangleSize = _d.triangleSize,\n    triangleHeight = _d.triangleHeight,\n    triangleWidth = _d.triangleWidth,\n    indicatorSize = _d.indicatorSize,\n    pickerPadding = _d.pickerPadding;\n  var indicatorRadius = pickerSize / 2 - indicatorSize / 2 - pickerPadding;\n  var mx = pickerSize / 2;\n  var my = pickerSize / 2;\n  var dx = Math.cos(angle) * indicatorRadius;\n  var dy = Math.sin(angle) * indicatorRadius;\n  var triangleTop = pickerPadding * 3;\n  var triangleLeft = pickerPadding * 3;\n  var triangleAngle = -angle + Math.PI / 3;\n  var markerColor = \"rgba(0,0,0,0.8)\";\n  var s = selectedColorHsv.s,\n    v = selectedColorHsv.v,\n    h = selectedColorHsv.h;\n  var svIndicatorSize = 18;\n  var svY = v * triangleHeight;\n  var margin = triangleWidth / 2 - v * (triangleWidth / 2);\n  var svX = s * (triangleWidth - 2 * margin) + margin;\n  var svIndicatorMarginLeft = (pickerSize - triangleWidth) / 2;\n  var svIndicatorMarginTop = (pickerSize - 4 * triangleHeight / 3) / 2;\n  var deg = (h - 330 + 360) % 360;\n  var rad = deg * Math.PI / 180;\n  var center = {\n    x: pickerSize / 2,\n    y: pickerSize / 2\n  };\n  var notRotatedPoint = {\n    x: svIndicatorMarginTop + svY,\n    y: svIndicatorMarginLeft + svX\n  };\n  var svIndicatorPoint = rotatePoint(notRotatedPoint, rad, center);\n  return {\n    picker: {\n      padding: pickerPadding,\n      width: pickerSize,\n      height: pickerSize\n    },\n    pickerIndicator: (_b = {\n      top: mx + dx - indicatorSize / 2\n    }, _b[isRTL ? \"right\" : \"left\"] = my + dy - indicatorSize / 2, _b.width = indicatorSize, _b.height = indicatorSize, _b.transform = [{\n      rotate: -angle + \"rad\"\n    }], _b),\n    pickerIndicatorTick: {\n      height: indicatorSize / 2,\n      backgroundColor: markerColor\n    },\n    svIndicator: (_c = {\n      top: svIndicatorPoint.x - svIndicatorSize / 2\n    }, _c[isRTL ? \"right\" : \"left\"] = svIndicatorPoint.y - svIndicatorSize / 2, _c.width = svIndicatorSize, _c.height = svIndicatorSize, _c.borderRadius = svIndicatorSize / 2, _c.borderColor = markerColor, _c),\n    triangleContainer: {\n      width: triangleSize,\n      height: triangleSize,\n      transform: [{\n        rotate: triangleAngle + \"rad\"\n      }],\n      top: triangleTop,\n      left: triangleLeft\n    },\n    triangleImage: {\n      width: triangleWidth,\n      height: triangleHeight\n    },\n    triangleUnderlayingColor: {\n      left: (triangleSize - triangleWidth) / 2,\n      borderLeftWidth: triangleWidth / 2,\n      borderRightWidth: triangleWidth / 2,\n      borderBottomWidth: triangleHeight,\n      borderBottomColor: indicatorColor\n    },\n    colorPreviews: {\n      height: pickerSize * 0.1\n    }\n  };\n};\nvar styles = StyleSheet.create({\n  pickerContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  pickerImage: {\n    flex: 1,\n    width: null,\n    height: null\n  },\n  pickerIndicator: {\n    position: \"absolute\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  triangleContainer: {\n    position: \"absolute\",\n    alignItems: \"center\"\n  },\n  triangleUnderlayingColor: {\n    position: \"absolute\",\n    top: 0,\n    width: 0,\n    height: 0,\n    backgroundColor: \"transparent\",\n    borderStyle: \"solid\",\n    borderLeftColor: \"transparent\",\n    borderRightColor: \"transparent\"\n  },\n  pickerAlignment: {\n    alignItems: \"center\"\n  },\n  svIndicator: {\n    position: \"absolute\",\n    borderWidth: 4\n  },\n  pickerIndicatorTick: {\n    width: 5\n  },\n  colorPreviews: {\n    flexDirection: \"row\"\n  },\n  colorPreview: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["React","I18nManager","Image","InteractionManager","StyleSheet","TouchableOpacity","View","tinycolor","createPanResponder","rotatePoint","jsx","_jsx","jsxs","_jsxs","makeRotationKey","props","angle","rotationHackFactor","undefined","key","Math","floor","TriangleColorPicker","_super","__extends","ctx","_this","call","_handleColorChange","_a","x","y","_changingHColor","_handleHColorChange","_handleSVColorChange","state","color","h","s","v","pickerSize","oldColor","toHsv","defaultColor","_layout","width","height","_pageX","_pageY","_onLayout","bind","_onSValueChange","_onVValueChange","_onColorSelected","_onOldColorSelected","_isRTL","isRTL","_pickerResponder","onStart","_b","_computeColorFromTriangle","onMove","prototype","_getColor","passedColor","onColorSelected","toHexString","onOldColorSelected","setState","_onColorChange","onColorChange","l","nativeEvent","layout","min","runAfterInteractions","refs","pickerContainer","measure","pageX","pageY","_computeHValue","mx","my","dx","dy","rad","atan2","PI","_hValueToRad","deg","getColor","marginLeft","marginTop","relativeX","relativeY","rawS","rawV","max","_normalizeTriangleTouch","sRatio","CORNER_ZONE_SIZE","NORMAL_MARGIN","CORNER_MARGIN","margin","posNS","negNS","ns","rightCorner","leftCorner","topCorner","getPickerProperties","triangleHeight","triangleWidth","left","top","center","rotated","line","normalized","render","style","selectedColor","indicatorColor","computed","makeComputedStyles","selectedColorHsv","rotationHack","children","onLayout","ref","styles","triangleContainer","triangleUnderlayingColor","triangleImage","source","require","_objectSpread","panHandlers","picker","collapsable","resizeMode","pickerImage","pickerIndicator","pickerIndicatorTick","svIndicator","hideControls","colorPreviews","colorPreview","backgroundColor","onPress","activeOpacity","defaultProps","PureComponent","indicatorPickerRatio","originalIndicatorSize","indicatorSize","pickerPadding","triangleSize","triangleRadius","sqrt","_d","indicatorRadius","cos","sin","triangleTop","triangleLeft","triangleAngle","markerColor","svIndicatorSize","svY","svX","svIndicatorMarginLeft","svIndicatorMarginTop","notRotatedPoint","svIndicatorPoint","padding","transform","rotate","_c","borderRadius","borderColor","borderLeftWidth","borderRightWidth","borderBottomWidth","borderBottomColor","create","flex","alignItems","justifyContent","position","borderStyle","borderLeftColor","borderRightColor","pickerAlignment","borderWidth","flexDirection"],"sources":["C:\\Users\\beatr\\OneDrive\\Área de Trabalho\\ppo\\create-booknotes\\mobile\\node_modules\\react-native-color-picker\\src\\TriangleColorPicker.tsx"],"sourcesContent":["import React from \"react\"\nimport {\n  I18nManager,\n  Image,\n  InteractionManager,\n  PanResponderInstance,\n  StyleSheet,\n  TouchableOpacity,\n  View,\n} from \"react-native\"\nimport tinycolor from \"tinycolor2\"\n\nimport { HsvColor, IPickerProps, Point2D } from \"./typeHelpers\"\nimport { createPanResponder, rotatePoint } from \"./utils\"\n\nfunction makeRotationKey(props: ITrianglePickerProps, angle: number) {\n  const { rotationHackFactor } = props\n\n  if (rotationHackFactor < 1) {\n    return undefined\n  }\n\n  const key = Math.floor(angle * rotationHackFactor)\n\n  return `r${key}`\n}\n\nexport interface ITrianglePickerProps extends IPickerProps {\n  rotationHackFactor?: number;\n  hideControls?: boolean;\n}\n\nexport type ITrianglePickerState = {\n  color: HsvColor;\n  pickerSize: number;\n};\n\nexport class TriangleColorPicker extends React.PureComponent<\n  ITrianglePickerProps,\n  ITrianglePickerState\n> {\n  private _layout: { width: number; height: number; x: number; y: number };\n  private _pageX: number;\n  private _pageY: number;\n  private _isRTL: boolean;\n  private _pickerResponder: PanResponderInstance;\n  private _changingHColor: boolean;\n\n  public static defaultProps: ITrianglePickerProps = {\n    rotationHackFactor: 100,\n  };\n\n  constructor(props: ITrianglePickerProps, ctx: any) {\n    super(props, ctx)\n\n    const state = {\n      color: { h: 0, s: 1, v: 1 },\n      pickerSize: null,\n    }\n\n    if (props.oldColor) {\n      state.color = tinycolor(props.oldColor).toHsv()\n    }\n\n    if (props.defaultColor) {\n      state.color = tinycolor(props.defaultColor).toHsv()\n    }\n\n    this.state = state\n    this._layout = { width: 0, height: 0, x: 0, y: 0 }\n    this._pageX = 0\n    this._pageY = 0\n    this._onLayout = this._onLayout.bind(this)\n    this._onSValueChange = this._onSValueChange.bind(this)\n    this._onVValueChange = this._onVValueChange.bind(this)\n    this._onColorSelected = this._onColorSelected.bind(this)\n    this._onOldColorSelected = this._onOldColorSelected.bind(this)\n    this._isRTL = I18nManager.isRTL\n\n    this._pickerResponder = createPanResponder({\n      onStart: ({ x, y }) => {\n        const { s, v } = this._computeColorFromTriangle({ x, y })\n        this._changingHColor = s > 1 || s < 0 || v > 1 || v < 0\n        this._handleColorChange({ x, y })\n\n        return true\n      },\n      onMove: this._handleColorChange,\n    })\n  }\n\n  _getColor() {\n    const passedColor =\n      typeof this.props.color === \"string\"\n        ? tinycolor(this.props.color).toHsv()\n        : this.props.color\n    return passedColor || this.state.color\n  }\n\n  _onColorSelected() {\n    const { onColorSelected } = this.props\n    const color = tinycolor(this._getColor()).toHexString()\n    onColorSelected && onColorSelected(color)\n  }\n\n  _onOldColorSelected() {\n    const { oldColor, onOldColorSelected } = this.props\n    const color = tinycolor(oldColor)\n    this.setState({ color: color.toHsv() })\n    onOldColorSelected && onOldColorSelected(color.toHexString())\n  }\n\n  _onSValueChange(s) {\n    const { h, v } = this._getColor()\n    this._onColorChange({ h, s, v })\n  }\n\n  _onVValueChange(v) {\n    const { h, s } = this._getColor()\n    this._onColorChange({ h, s, v })\n  }\n\n  _onColorChange(color) {\n    this.setState({ color })\n    if (this.props.onColorChange) {\n      this.props.onColorChange(color)\n    }\n  }\n\n  _onLayout(l) {\n    this._layout = l.nativeEvent.layout\n    const { width, height } = this._layout\n    const pickerSize = Math.min(width, height)\n    if (this.state.pickerSize !== pickerSize) {\n      this.setState({ pickerSize })\n    }\n    // layout.x, layout.y is always 0\n    // we always measure because layout is the same even though picker is moved on the page\n    InteractionManager.runAfterInteractions(() => {\n      // measure only after (possible) animation ended\n      this.refs.pickerContainer &&\n        (this.refs.pickerContainer as any).measure(\n          (x, y, width, height, pageX, pageY) => {\n            // picker position in the screen\n            this._pageX = pageX\n            this._pageY = pageY\n          }\n        )\n    })\n  }\n\n  _computeHValue(x: number, y: number) {\n    const mx = this.state.pickerSize / 2\n    const my = this.state.pickerSize / 2\n    const dx = x - mx\n    const dy = y - my\n    const rad = Math.atan2(dx, dy) + Math.PI + Math.PI / 2\n    return ((rad * 180) / Math.PI) % 360\n  }\n\n  _hValueToRad(deg: number) {\n    const rad = (deg * Math.PI) / 180\n    return rad - Math.PI - Math.PI / 2\n  }\n\n  getColor() {\n    return tinycolor(this._getColor()).toHexString()\n  }\n\n  _handleColorChange = ({ x, y }: Point2D) => {\n    if (this._changingHColor) {\n      this._handleHColorChange({ x, y })\n    } else {\n      this._handleSVColorChange({ x, y })\n    }\n\n    return true\n  };\n\n  _handleHColorChange({ x, y }: Point2D) {\n    const { s, v } = this._getColor()\n    const marginLeft = (this._layout.width - this.state.pickerSize) / 2\n    const marginTop = (this._layout.height - this.state.pickerSize) / 2\n    const relativeX = x - this._pageX - marginLeft\n    const relativeY = y - this._pageY - marginTop\n    const h = this._computeHValue(relativeX, relativeY)\n    this._onColorChange({ h, s, v })\n  }\n\n  _handleSVColorChange({ x, y }) {\n    const { h, s: rawS, v: rawV } = this._computeColorFromTriangle({ x, y })\n    const s = Math.min(Math.max(0, rawS), 1)\n    const v = Math.min(Math.max(0, rawV), 1)\n    this._onColorChange({ h, s, v })\n  }\n\n  _normalizeTriangleTouch(s, v, sRatio) {\n    const CORNER_ZONE_SIZE = 0.12 // relative size to be considered as corner zone\n    const NORMAL_MARGIN = 0.1 // relative triangle margin to be considered as touch in triangle\n    const CORNER_MARGIN = 0.05 // relative triangle margin to be considered as touch in triangle in corner zone\n    let margin = NORMAL_MARGIN\n\n    const posNS = v > 0 ? 1 - (1 - s) * sRatio : 1 - s * sRatio\n    const negNS = v > 0 ? s * sRatio : (1 - s) * sRatio\n    const ns = s > 1 ? posNS : negNS // normalized s value according to ratio and s value\n\n    const rightCorner = s > 1 - CORNER_ZONE_SIZE && v > 1 - CORNER_ZONE_SIZE\n    const leftCorner = ns < 0 + CORNER_ZONE_SIZE && v > 1 - CORNER_ZONE_SIZE\n    const topCorner = ns < 0 + CORNER_ZONE_SIZE && v < 0 + CORNER_ZONE_SIZE\n    if (rightCorner) {\n      return { s, v }\n    }\n    if (leftCorner || topCorner) {\n      margin = CORNER_MARGIN\n    }\n    // color normalization according to margin\n    s = s < 0 && ns > 0 - margin ? 0 : s\n    s = s > 1 && ns < 1 + margin ? 1 : s\n    v = v < 0 && v > 0 - margin ? 0 : v\n    v = v > 1 && v < 1 + margin ? 1 : v\n    return { s, v }\n  }\n\n  /**\n   * Computes s, v from position (x, y). If position is outside of triangle,\n   * it will return invalid values (greater than 1 or lower than 0)\n   */\n  _computeColorFromTriangle({ x, y }) {\n    const { pickerSize } = this.state\n    const { triangleHeight, triangleWidth } = getPickerProperties(pickerSize)\n\n    const left = pickerSize / 2 - triangleWidth / 2\n    const top = pickerSize / 2 - (2 * triangleHeight) / 3\n\n    // triangle relative coordinates\n    const marginLeft = (this._layout.width - this.state.pickerSize) / 2\n    const marginTop = (this._layout.height - this.state.pickerSize) / 2\n    const relativeX = x - this._pageX - marginLeft - left\n    const relativeY = y - this._pageY - marginTop - top\n\n    // rotation\n    const { h } = this._getColor()\n    const deg = (h - 330 + 360) % 360 // starting angle is 330 due to comfortable calculation\n    const rad = (deg * Math.PI) / 180\n    const center = {\n      x: triangleWidth / 2,\n      y: (2 * triangleHeight) / 3,\n    }\n    const rotated = rotatePoint({ x: relativeX, y: relativeY }, rad, center)\n\n    const line = (triangleWidth * rotated.y) / triangleHeight\n    const margin =\n      triangleWidth / 2 - ((triangleWidth / 2) * rotated.y) / triangleHeight\n    const s = (rotated.x - margin) / line\n    const v = rotated.y / triangleHeight\n\n    // normalize\n    const normalized = this._normalizeTriangleTouch(\n      s,\n      v,\n      line / triangleHeight\n    )\n\n    return { h, s: normalized.s, v: normalized.v }\n  }\n\n  render() {\n    const { pickerSize } = this.state\n    const { oldColor, style } = this.props\n    const color = this._getColor()\n    const { h } = color\n    const angle = this._hValueToRad(h)\n    const selectedColor = tinycolor(color).toHexString()\n    const indicatorColor = tinycolor({ h, s: 1, v: 1 }).toHexString()\n    const computed = makeComputedStyles({\n      pickerSize,\n      selectedColorHsv: color,\n      indicatorColor,\n      angle,\n      isRTL: this._isRTL,\n    })\n    // Hack for https://github.com/instea/react-native-color-picker/issues/17\n    const rotationHack = makeRotationKey(this.props, angle)\n    return (\n      <View style={style}>\n        <View\n          onLayout={this._onLayout}\n          ref=\"pickerContainer\"\n          style={styles.pickerContainer}\n        >\n          {!pickerSize ? null : (\n            <View>\n              <View\n                key={rotationHack}\n                style={[styles.triangleContainer, computed.triangleContainer]}\n              >\n                <View\n                  style={[\n                    styles.triangleUnderlayingColor,\n                    computed.triangleUnderlayingColor,\n                  ]}\n                />\n                <Image\n                  style={[computed.triangleImage]}\n                  source={require(\"../resources/hsv_triangle_mask.png\")}\n                />\n              </View>\n              <View\n                {...this._pickerResponder.panHandlers}\n                style={[computed.picker]}\n                collapsable={false}\n              >\n                <Image\n                  source={require(\"../resources/color-circle.png\")}\n                  resizeMode=\"contain\"\n                  style={[styles.pickerImage]}\n                />\n                <View\n                  key={rotationHack}\n                  style={[styles.pickerIndicator, computed.pickerIndicator]}\n                >\n                  <View\n                    style={[\n                      styles.pickerIndicatorTick,\n                      computed.pickerIndicatorTick,\n                    ]}\n                  />\n                </View>\n                <View style={[styles.svIndicator, computed.svIndicator]} />\n              </View>\n            </View>\n          )}\n        </View>\n        {this.props.hideControls == true ? null : (\n          <View style={[styles.colorPreviews, computed.colorPreviews]}>\n            {oldColor && (\n              <TouchableOpacity\n                style={[styles.colorPreview, { backgroundColor: oldColor }]}\n                onPress={this._onOldColorSelected}\n                activeOpacity={0.7}\n              />\n            )}\n            <TouchableOpacity\n              style={[styles.colorPreview, { backgroundColor: selectedColor }]}\n              onPress={this._onColorSelected}\n              activeOpacity={0.7}\n            />\n          </View>\n        )}\n      </View>\n    )\n  }\n}\n\nfunction getPickerProperties(pickerSize) {\n  const indicatorPickerRatio = 42 / 510 // computed from picker image\n  const originalIndicatorSize = indicatorPickerRatio * pickerSize\n  const indicatorSize = originalIndicatorSize\n  const pickerPadding = originalIndicatorSize / 3\n\n  const triangleSize = pickerSize - 6 * pickerPadding\n  const triangleRadius = triangleSize / 2\n  const triangleHeight = (triangleRadius * 3) / 2\n  const triangleWidth = 2 * triangleRadius * Math.sqrt(3 / 4) // pythagorean theorem\n\n  return {\n    triangleSize,\n    triangleRadius,\n    triangleHeight,\n    triangleWidth,\n    indicatorPickerRatio,\n    indicatorSize,\n    pickerPadding,\n  }\n}\n\nconst makeComputedStyles = ({\n  indicatorColor,\n  angle,\n  pickerSize,\n  selectedColorHsv,\n  isRTL,\n}) => {\n  const {\n    triangleSize,\n    triangleHeight,\n    triangleWidth,\n    indicatorSize,\n    pickerPadding,\n  } = getPickerProperties(pickerSize)\n\n  /* ===== INDICATOR ===== */\n  const indicatorRadius = pickerSize / 2 - indicatorSize / 2 - pickerPadding\n  const mx = pickerSize / 2\n  const my = pickerSize / 2\n  const dx = Math.cos(angle) * indicatorRadius\n  const dy = Math.sin(angle) * indicatorRadius\n\n  /* ===== TRIANGLE ===== */\n  const triangleTop = pickerPadding * 3\n  const triangleLeft = pickerPadding * 3\n  const triangleAngle = -angle + Math.PI / 3\n\n  /* ===== SV INDICATOR ===== */\n  const markerColor = \"rgba(0,0,0,0.8)\"\n  const { s, v, h } = selectedColorHsv\n  const svIndicatorSize = 18\n  const svY = v * triangleHeight\n  const margin = triangleWidth / 2 - v * (triangleWidth / 2)\n  const svX = s * (triangleWidth - 2 * margin) + margin\n  const svIndicatorMarginLeft = (pickerSize - triangleWidth) / 2\n  const svIndicatorMarginTop = (pickerSize - (4 * triangleHeight) / 3) / 2\n\n  const deg = (h - 330 + 360) % 360 // starting angle is 330 due to comfortable calculation\n  const rad = (deg * Math.PI) / 180\n  const center = { x: pickerSize / 2, y: pickerSize / 2 }\n  const notRotatedPoint = {\n    x: svIndicatorMarginTop + svY,\n    y: svIndicatorMarginLeft + svX,\n  }\n  const svIndicatorPoint = rotatePoint(notRotatedPoint, rad, center)\n\n  return {\n    picker: {\n      padding: pickerPadding,\n      width: pickerSize,\n      height: pickerSize,\n    },\n    pickerIndicator: {\n      top: mx + dx - indicatorSize / 2,\n      [isRTL ? \"right\" : \"left\"]: my + dy - indicatorSize / 2,\n      width: indicatorSize,\n      height: indicatorSize,\n      transform: [\n        {\n          rotate: -angle + \"rad\",\n        },\n      ],\n    },\n    pickerIndicatorTick: {\n      height: indicatorSize / 2,\n      backgroundColor: markerColor,\n    },\n    svIndicator: {\n      top: svIndicatorPoint.x - svIndicatorSize / 2,\n      [isRTL ? \"right\" : \"left\"]: svIndicatorPoint.y - svIndicatorSize / 2,\n      width: svIndicatorSize,\n      height: svIndicatorSize,\n      borderRadius: svIndicatorSize / 2,\n      borderColor: markerColor,\n    },\n    triangleContainer: {\n      width: triangleSize,\n      height: triangleSize,\n      transform: [\n        {\n          rotate: triangleAngle + \"rad\",\n        },\n      ],\n      top: triangleTop,\n      left: triangleLeft,\n    },\n    triangleImage: {\n      width: triangleWidth,\n      height: triangleHeight,\n    },\n    triangleUnderlayingColor: {\n      left: (triangleSize - triangleWidth) / 2,\n      borderLeftWidth: triangleWidth / 2,\n      borderRightWidth: triangleWidth / 2,\n      borderBottomWidth: triangleHeight,\n      borderBottomColor: indicatorColor,\n    },\n    colorPreviews: {\n      height: pickerSize * 0.1, // responsive height\n    },\n  }\n}\n\nconst styles = StyleSheet.create({\n  pickerContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  pickerImage: {\n    flex: 1,\n    width: null,\n    height: null,\n  },\n  pickerIndicator: {\n    position: \"absolute\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  triangleContainer: {\n    position: \"absolute\",\n    alignItems: \"center\",\n  },\n  triangleUnderlayingColor: {\n    position: \"absolute\",\n    top: 0,\n    width: 0,\n    height: 0,\n    backgroundColor: \"transparent\",\n    borderStyle: \"solid\",\n    borderLeftColor: \"transparent\",\n    borderRightColor: \"transparent\",\n  },\n  pickerAlignment: {\n    alignItems: \"center\",\n  },\n  svIndicator: {\n    position: \"absolute\",\n    borderWidth: 4,\n  },\n  pickerIndicatorTick: {\n    width: 5,\n  },\n  colorPreviews: {\n    flexDirection: \"row\",\n  },\n  colorPreview: {\n    flex: 1,\n  },\n})\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAAA,OAAAC,WAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,kBAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,IAAA;AAUzB,OAAOC,SAAS,MAAM,YAAY;AAGlC,SAASC,kBAAkB,EAAEC,WAAW;AAAiB,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEzD,SAASC,eAAeA,CAACC,KAA2B,EAAEC,KAAa;EACzD,IAAAC,kBAAkB,GAAKF,KAAK,CAAAE,kBAAV;EAE1B,IAAIA,kBAAkB,GAAG,CAAC,EAAE;IAC1B,OAAOC,SAAS;;EAGlB,IAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACL,KAAK,GAAGC,kBAAkB,CAAC;EAElD,OAAO,MAAIE,GAAK;AAClB;AAYA,IAAAG,mBAAA,aAAAC,MAAA;EAAyCC,SAAA,CAAAF,mBAAA,EAAAC,MAAA;EAevC,SAAAD,oBAAYP,KAA2B,EAAEU,GAAQ;IAAjD,IAAAC,KAAA,GACEH,MAAA,CAAAI,IAAA,OAAMZ,KAAK,EAAEU,GAAG,CAAC;IAoHnBC,KAAA,CAAAE,kBAAkB,GAAG,UAACC,EAAiB;UAAfC,CAAC,GAAAD,EAAA,CAAAC,CAAA;QAAEC,CAAC,GAAAF,EAAA,CAAAE,CAAA;MAC1B,IAAIL,KAAI,CAACM,eAAe,EAAE;QACxBN,KAAI,CAACO,mBAAmB,CAAC;UAAEH,CAAC,EAAAA,CAAA;UAAEC,CAAC,EAAAA;QAAA,CAAE,CAAC;OACnC,MAAM;QACLL,KAAI,CAACQ,oBAAoB,CAAC;UAAEJ,CAAC,EAAAA,CAAA;UAAEC,CAAC,EAAAA;QAAA,CAAE,CAAC;;MAGrC,OAAO,IAAI;IACb,CAAC;IA1HC,IAAMI,KAAK,GAAG;MACZC,KAAK,EAAE;QAAEC,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAC,CAAE;MAC3BC,UAAU,EAAE;KACb;IAED,IAAIzB,KAAK,CAAC0B,QAAQ,EAAE;MAClBN,KAAK,CAACC,KAAK,GAAG7B,SAAS,CAACQ,KAAK,CAAC0B,QAAQ,CAAC,CAACC,KAAK,EAAE;;IAGjD,IAAI3B,KAAK,CAAC4B,YAAY,EAAE;MACtBR,KAAK,CAACC,KAAK,GAAG7B,SAAS,CAACQ,KAAK,CAAC4B,YAAY,CAAC,CAACD,KAAK,EAAE;;IAGrDhB,KAAI,CAACS,KAAK,GAAGA,KAAK;IAClBT,KAAI,CAACkB,OAAO,GAAG;MAAEC,KAAK,EAAE,CAAC;MAAEC,MAAM,EAAE,CAAC;MAAEhB,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAC,CAAE;IAClDL,KAAI,CAACqB,MAAM,GAAG,CAAC;IACfrB,KAAI,CAACsB,MAAM,GAAG,CAAC;IACftB,KAAI,CAACuB,SAAS,GAAGvB,KAAI,CAACuB,SAAS,CAACC,IAAI,CAACxB,KAAI,CAAC;IAC1CA,KAAI,CAACyB,eAAe,GAAGzB,KAAI,CAACyB,eAAe,CAACD,IAAI,CAACxB,KAAI,CAAC;IACtDA,KAAI,CAAC0B,eAAe,GAAG1B,KAAI,CAAC0B,eAAe,CAACF,IAAI,CAACxB,KAAI,CAAC;IACtDA,KAAI,CAAC2B,gBAAgB,GAAG3B,KAAI,CAAC2B,gBAAgB,CAACH,IAAI,CAACxB,KAAI,CAAC;IACxDA,KAAI,CAAC4B,mBAAmB,GAAG5B,KAAI,CAAC4B,mBAAmB,CAACJ,IAAI,CAACxB,KAAI,CAAC;IAC9DA,KAAI,CAAC6B,MAAM,GAAGtD,WAAW,CAACuD,KAAK;IAE/B9B,KAAI,CAAC+B,gBAAgB,GAAGjD,kBAAkB,CAAC;MACzCkD,OAAO,EAAE,SAAAA,QAAC7B,EAAQ;YAANC,CAAC,GAAAD,EAAA,CAAAC,CAAA;UAAEC,CAAC,GAAAF,EAAA,CAAAE,CAAA;QACR,IAAA4B,EAAA,GAAWjC,KAAI,CAACkC,yBAAyB,CAAC;YAAE9B,CAAC,EAAAA,CAAA;YAAEC,CAAC,EAAAA;UAAA,CAAE,CAAC;UAAjDO,CAAC,GAAAqB,EAAA,CAAArB,CAAA;UAAEC,CAAC,GAAAoB,EAAA,CAAApB,CAA6C;QACzDb,KAAI,CAACM,eAAe,GAAGM,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAG,CAAC,IAAIC,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAG,CAAC;QACvDb,KAAI,CAACE,kBAAkB,CAAC;UAAEE,CAAC,EAAAA,CAAA;UAAEC,CAAC,EAAAA;QAAA,CAAE,CAAC;QAEjC,OAAO,IAAI;MACb,CAAC;MACD8B,MAAM,EAAEnC,KAAI,CAACE;KACd,CAAC;;EACJ;EAEAN,mBAAA,CAAAwC,SAAA,CAAAC,SAAS,GAAT;IACE,IAAMC,WAAW,GACf,OAAO,IAAI,CAACjD,KAAK,CAACqB,KAAK,KAAK,QAAQ,GAChC7B,SAAS,CAAC,IAAI,CAACQ,KAAK,CAACqB,KAAK,CAAC,CAACM,KAAK,EAAE,GACnC,IAAI,CAAC3B,KAAK,CAACqB,KAAK;IACtB,OAAO4B,WAAW,IAAI,IAAI,CAAC7B,KAAK,CAACC,KAAK;EACxC,CAAC;EAEDd,mBAAA,CAAAwC,SAAA,CAAAT,gBAAgB,GAAhB;IACU,IAAAY,eAAe,GAAK,IAAI,CAAClD,KAAK,CAAAkD,eAAf;IACvB,IAAM7B,KAAK,GAAG7B,SAAS,CAAC,IAAI,CAACwD,SAAS,EAAE,CAAC,CAACG,WAAW,EAAE;IACvDD,eAAe,IAAIA,eAAe,CAAC7B,KAAK,CAAC;EAC3C,CAAC;EAEDd,mBAAA,CAAAwC,SAAA,CAAAR,mBAAmB,GAAnB;IACQ,IAAAzB,EAAA,GAAmC,IAAI,CAACd,KAAK;MAA3C0B,QAAQ,GAAAZ,EAAA,CAAAY,QAAA;MAAE0B,kBAAkB,GAAAtC,EAAA,CAAAsC,kBAAe;IACnD,IAAM/B,KAAK,GAAG7B,SAAS,CAACkC,QAAQ,CAAC;IACjC,IAAI,CAAC2B,QAAQ,CAAC;MAAEhC,KAAK,EAAEA,KAAK,CAACM,KAAK;IAAE,CAAE,CAAC;IACvCyB,kBAAkB,IAAIA,kBAAkB,CAAC/B,KAAK,CAAC8B,WAAW,EAAE,CAAC;EAC/D,CAAC;EAED5C,mBAAA,CAAAwC,SAAA,CAAAX,eAAe,GAAf,UAAgBb,CAAC;IACT,IAAAT,EAAA,GAAW,IAAI,CAACkC,SAAS,EAAE;MAAzB1B,CAAC,GAAAR,EAAA,CAAAQ,CAAA;MAAEE,CAAC,GAAAV,EAAA,CAAAU,CAAqB;IACjC,IAAI,CAAC8B,cAAc,CAAC;MAAEhC,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA;IAAA,CAAE,CAAC;EAClC,CAAC;EAEDjB,mBAAA,CAAAwC,SAAA,CAAAV,eAAe,GAAf,UAAgBb,CAAC;IACT,IAAAV,EAAA,GAAW,IAAI,CAACkC,SAAS,EAAE;MAAzB1B,CAAC,GAAAR,EAAA,CAAAQ,CAAA;MAAEC,CAAC,GAAAT,EAAA,CAAAS,CAAqB;IACjC,IAAI,CAAC+B,cAAc,CAAC;MAAEhC,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA;IAAA,CAAE,CAAC;EAClC,CAAC;EAEDjB,mBAAA,CAAAwC,SAAA,CAAAO,cAAc,GAAd,UAAejC,KAAK;IAClB,IAAI,CAACgC,QAAQ,CAAC;MAAEhC,KAAK,EAAAA;IAAA,CAAE,CAAC;IACxB,IAAI,IAAI,CAACrB,KAAK,CAACuD,aAAa,EAAE;MAC5B,IAAI,CAACvD,KAAK,CAACuD,aAAa,CAAClC,KAAK,CAAC;;EAEnC,CAAC;EAEDd,mBAAA,CAAAwC,SAAA,CAAAb,SAAS,GAAT,UAAUsB,CAAC;IAAX,IAAA7C,KAAA;IACE,IAAI,CAACkB,OAAO,GAAG2B,CAAC,CAACC,WAAW,CAACC,MAAM;IAC7B,IAAA5C,EAAA,GAAoB,IAAI,CAACe,OAAO;MAA9BC,KAAK,GAAAhB,EAAA,CAAAgB,KAAA;MAAEC,MAAM,GAAAjB,EAAA,CAAAiB,MAAiB;IACtC,IAAMN,UAAU,GAAGpB,IAAI,CAACsD,GAAG,CAAC7B,KAAK,EAAEC,MAAM,CAAC;IAC1C,IAAI,IAAI,CAACX,KAAK,CAACK,UAAU,KAAKA,UAAU,EAAE;MACxC,IAAI,CAAC4B,QAAQ,CAAC;QAAE5B,UAAU,EAAAA;MAAA,CAAE,CAAC;;IAI/BrC,kBAAkB,CAACwE,oBAAoB,CAAC;MAEtCjD,KAAI,CAACkD,IAAI,CAACC,eAAe,IACtBnD,KAAI,CAACkD,IAAI,CAACC,eAAuB,CAACC,OAAO,CACxC,UAAChD,CAAC,EAAEC,CAAC,EAAEc,KAAK,EAAEC,MAAM,EAAEiC,KAAK,EAAEC,KAAK;QAEhCtD,KAAI,CAACqB,MAAM,GAAGgC,KAAK;QACnBrD,KAAI,CAACsB,MAAM,GAAGgC,KAAK;MACrB,CAAC,CACF;IACL,CAAC,CAAC;EACJ,CAAC;EAED1D,mBAAA,CAAAwC,SAAA,CAAAmB,cAAc,GAAd,UAAenD,CAAS,EAAEC,CAAS;IACjC,IAAMmD,EAAE,GAAG,IAAI,CAAC/C,KAAK,CAACK,UAAU,GAAG,CAAC;IACpC,IAAM2C,EAAE,GAAG,IAAI,CAAChD,KAAK,CAACK,UAAU,GAAG,CAAC;IACpC,IAAM4C,EAAE,GAAGtD,CAAC,GAAGoD,EAAE;IACjB,IAAMG,EAAE,GAAGtD,CAAC,GAAGoD,EAAE;IACjB,IAAMG,GAAG,GAAGlE,IAAI,CAACmE,KAAK,CAACH,EAAE,EAAEC,EAAE,CAAC,GAAGjE,IAAI,CAACoE,EAAE,GAAGpE,IAAI,CAACoE,EAAE,GAAG,CAAC;IACtD,OAASF,GAAG,GAAG,GAAG,GAAIlE,IAAI,CAACoE,EAAE,GAAI,GAAG;EACtC,CAAC;EAEDlE,mBAAA,CAAAwC,SAAA,CAAA2B,YAAY,GAAZ,UAAaC,GAAW;IACtB,IAAMJ,GAAG,GAAII,GAAG,GAAGtE,IAAI,CAACoE,EAAE,GAAI,GAAG;IACjC,OAAOF,GAAG,GAAGlE,IAAI,CAACoE,EAAE,GAAGpE,IAAI,CAACoE,EAAE,GAAG,CAAC;EACpC,CAAC;EAEDlE,mBAAA,CAAAwC,SAAA,CAAA6B,QAAQ,GAAR;IACE,OAAOpF,SAAS,CAAC,IAAI,CAACwD,SAAS,EAAE,CAAC,CAACG,WAAW,EAAE;EAClD,CAAC;EAYD5C,mBAAA,CAAAwC,SAAA,CAAA7B,mBAAmB,GAAnB,UAAoBJ,EAAiB;QAAfC,CAAC,GAAAD,EAAA,CAAAC,CAAA;MAAEC,CAAC,GAAAF,EAAA,CAAAE,CAAA;IAClB,IAAA4B,EAAA,GAAW,IAAI,CAACI,SAAS,EAAE;MAAzBzB,CAAC,GAAAqB,EAAA,CAAArB,CAAA;MAAEC,CAAC,GAAAoB,EAAA,CAAApB,CAAqB;IACjC,IAAMqD,UAAU,GAAG,CAAC,IAAI,CAAChD,OAAO,CAACC,KAAK,GAAG,IAAI,CAACV,KAAK,CAACK,UAAU,IAAI,CAAC;IACnE,IAAMqD,SAAS,GAAG,CAAC,IAAI,CAACjD,OAAO,CAACE,MAAM,GAAG,IAAI,CAACX,KAAK,CAACK,UAAU,IAAI,CAAC;IACnE,IAAMsD,SAAS,GAAGhE,CAAC,GAAG,IAAI,CAACiB,MAAM,GAAG6C,UAAU;IAC9C,IAAMG,SAAS,GAAGhE,CAAC,GAAG,IAAI,CAACiB,MAAM,GAAG6C,SAAS;IAC7C,IAAMxD,CAAC,GAAG,IAAI,CAAC4C,cAAc,CAACa,SAAS,EAAEC,SAAS,CAAC;IACnD,IAAI,CAAC1B,cAAc,CAAC;MAAEhC,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA;IAAA,CAAE,CAAC;EAClC,CAAC;EAEDjB,mBAAA,CAAAwC,SAAA,CAAA5B,oBAAoB,GAApB,UAAqBL,EAAQ;QAANC,CAAC,GAAAD,EAAA,CAAAC,CAAA;MAAEC,CAAC,GAAAF,EAAA,CAAAE,CAAA;IACnB,IAAA4B,EAAA,GAA0B,IAAI,CAACC,yBAAyB,CAAC;QAAE9B,CAAC,EAAAA,CAAA;QAAEC,CAAC,EAAAA;MAAA,CAAE,CAAC;MAAhEM,CAAC,GAAAsB,EAAA,CAAAtB,CAAA;MAAK2D,IAAI,GAAArC,EAAA,CAAArB,CAAA;MAAK2D,IAAI,GAAAtC,EAAA,CAAApB,CAA6C;IACxE,IAAMD,CAAC,GAAGlB,IAAI,CAACsD,GAAG,CAACtD,IAAI,CAAC8E,GAAG,CAAC,CAAC,EAAEF,IAAI,CAAC,EAAE,CAAC,CAAC;IACxC,IAAMzD,CAAC,GAAGnB,IAAI,CAACsD,GAAG,CAACtD,IAAI,CAAC8E,GAAG,CAAC,CAAC,EAAED,IAAI,CAAC,EAAE,CAAC,CAAC;IACxC,IAAI,CAAC5B,cAAc,CAAC;MAAEhC,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA;IAAA,CAAE,CAAC;EAClC,CAAC;EAEDjB,mBAAA,CAAAwC,SAAA,CAAAqC,uBAAuB,GAAvB,UAAwB7D,CAAC,EAAEC,CAAC,EAAE6D,MAAM;IAClC,IAAMC,gBAAgB,GAAG,IAAI;IAC7B,IAAMC,aAAa,GAAG,GAAG;IACzB,IAAMC,aAAa,GAAG,IAAI;IAC1B,IAAIC,MAAM,GAAGF,aAAa;IAE1B,IAAMG,KAAK,GAAGlE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAGD,CAAC,IAAI8D,MAAM,GAAG,CAAC,GAAG9D,CAAC,GAAG8D,MAAM;IAC3D,IAAMM,KAAK,GAAGnE,CAAC,GAAG,CAAC,GAAGD,CAAC,GAAG8D,MAAM,GAAG,CAAC,CAAC,GAAG9D,CAAC,IAAI8D,MAAM;IACnD,IAAMO,EAAE,GAAGrE,CAAC,GAAG,CAAC,GAAGmE,KAAK,GAAGC,KAAK;IAEhC,IAAME,WAAW,GAAGtE,CAAC,GAAG,CAAC,GAAG+D,gBAAgB,IAAI9D,CAAC,GAAG,CAAC,GAAG8D,gBAAgB;IACxE,IAAMQ,UAAU,GAAGF,EAAE,GAAG,CAAC,GAAGN,gBAAgB,IAAI9D,CAAC,GAAG,CAAC,GAAG8D,gBAAgB;IACxE,IAAMS,SAAS,GAAGH,EAAE,GAAG,CAAC,GAAGN,gBAAgB,IAAI9D,CAAC,GAAG,CAAC,GAAG8D,gBAAgB;IACvE,IAAIO,WAAW,EAAE;MACf,OAAO;QAAEtE,CAAC,EAAAA,CAAA;QAAEC,CAAC,EAAAA;MAAA,CAAE;;IAEjB,IAAIsE,UAAU,IAAIC,SAAS,EAAE;MAC3BN,MAAM,GAAGD,aAAa;;IAGxBjE,CAAC,GAAGA,CAAC,GAAG,CAAC,IAAIqE,EAAE,GAAG,CAAC,GAAGH,MAAM,GAAG,CAAC,GAAGlE,CAAC;IACpCA,CAAC,GAAGA,CAAC,GAAG,CAAC,IAAIqE,EAAE,GAAG,CAAC,GAAGH,MAAM,GAAG,CAAC,GAAGlE,CAAC;IACpCC,CAAC,GAAGA,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAG,CAAC,GAAGiE,MAAM,GAAG,CAAC,GAAGjE,CAAC;IACnCA,CAAC,GAAGA,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAG,CAAC,GAAGiE,MAAM,GAAG,CAAC,GAAGjE,CAAC;IACnC,OAAO;MAAED,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAAA;IAAA,CAAE;EACjB,CAAC;EAMDjB,mBAAA,CAAAwC,SAAA,CAAAF,yBAAyB,GAAzB,UAA0B/B,EAAQ;QAANC,CAAC,GAAAD,EAAA,CAAAC,CAAA;MAAEC,CAAC,GAAAF,EAAA,CAAAE,CAAA;IACtB,IAAAS,UAAU,GAAK,IAAI,CAACL,KAAK,CAAAK,UAAf;IACZ,IAAAmB,EAAA,GAAoCoD,mBAAmB,CAACvE,UAAU,CAAC;MAAjEwE,cAAc,GAAArD,EAAA,CAAAqD,cAAA;MAAEC,aAAa,GAAAtD,EAAA,CAAAsD,aAAoC;IAEzE,IAAMC,IAAI,GAAG1E,UAAU,GAAG,CAAC,GAAGyE,aAAa,GAAG,CAAC;IAC/C,IAAME,GAAG,GAAG3E,UAAU,GAAG,CAAC,GAAI,CAAC,GAAGwE,cAAc,GAAI,CAAC;IAGrD,IAAMpB,UAAU,GAAG,CAAC,IAAI,CAAChD,OAAO,CAACC,KAAK,GAAG,IAAI,CAACV,KAAK,CAACK,UAAU,IAAI,CAAC;IACnE,IAAMqD,SAAS,GAAG,CAAC,IAAI,CAACjD,OAAO,CAACE,MAAM,GAAG,IAAI,CAACX,KAAK,CAACK,UAAU,IAAI,CAAC;IACnE,IAAMsD,SAAS,GAAGhE,CAAC,GAAG,IAAI,CAACiB,MAAM,GAAG6C,UAAU,GAAGsB,IAAI;IACrD,IAAMnB,SAAS,GAAGhE,CAAC,GAAG,IAAI,CAACiB,MAAM,GAAG6C,SAAS,GAAGsB,GAAG;IAG3C,IAAA9E,CAAC,GAAK,IAAI,CAAC0B,SAAS,EAAE,CAAA1B,CAArB;IACT,IAAMqD,GAAG,GAAG,CAACrD,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG;IACjC,IAAMiD,GAAG,GAAII,GAAG,GAAGtE,IAAI,CAACoE,EAAE,GAAI,GAAG;IACjC,IAAM4B,MAAM,GAAG;MACbtF,CAAC,EAAEmF,aAAa,GAAG,CAAC;MACpBlF,CAAC,EAAG,CAAC,GAAGiF,cAAc,GAAI;KAC3B;IACD,IAAMK,OAAO,GAAG5G,WAAW,CAAC;MAAEqB,CAAC,EAAEgE,SAAS;MAAE/D,CAAC,EAAEgE;IAAS,CAAE,EAAET,GAAG,EAAE8B,MAAM,CAAC;IAExE,IAAME,IAAI,GAAIL,aAAa,GAAGI,OAAO,CAACtF,CAAC,GAAIiF,cAAc;IACzD,IAAMR,MAAM,GACVS,aAAa,GAAG,CAAC,GAAKA,aAAa,GAAG,CAAC,GAAII,OAAO,CAACtF,CAAC,GAAIiF,cAAc;IACxE,IAAM1E,CAAC,GAAG,CAAC+E,OAAO,CAACvF,CAAC,GAAG0E,MAAM,IAAIc,IAAI;IACrC,IAAM/E,CAAC,GAAG8E,OAAO,CAACtF,CAAC,GAAGiF,cAAc;IAGpC,IAAMO,UAAU,GAAG,IAAI,CAACpB,uBAAuB,CAC7C7D,CAAC,EACDC,CAAC,EACD+E,IAAI,GAAGN,cAAc,CACtB;IAED,OAAO;MAAE3E,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAEiF,UAAU,CAACjF,CAAC;MAAEC,CAAC,EAAEgF,UAAU,CAAChF;IAAC,CAAE;EAChD,CAAC;EAEDjB,mBAAA,CAAAwC,SAAA,CAAA0D,MAAM,GAAN;IACU,IAAAhF,UAAU,GAAK,IAAI,CAACL,KAAK,CAAAK,UAAf;IACZ,IAAAX,EAAA,GAAsB,IAAI,CAACd,KAAK;MAA9B0B,QAAQ,GAAAZ,EAAA,CAAAY,QAAA;MAAEgF,KAAK,GAAA5F,EAAA,CAAA4F,KAAe;IACtC,IAAMrF,KAAK,GAAG,IAAI,CAAC2B,SAAS,EAAE;IACtB,IAAA1B,CAAC,GAAKD,KAAK,CAAAC,CAAV;IACT,IAAMrB,KAAK,GAAG,IAAI,CAACyE,YAAY,CAACpD,CAAC,CAAC;IAClC,IAAMqF,aAAa,GAAGnH,SAAS,CAAC6B,KAAK,CAAC,CAAC8B,WAAW,EAAE;IACpD,IAAMyD,cAAc,GAAGpH,SAAS,CAAC;MAAE8B,CAAC,EAAAA,CAAA;MAAEC,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAC,CAAE,CAAC,CAAC2B,WAAW,EAAE;IACjE,IAAM0D,QAAQ,GAAGC,kBAAkB,CAAC;MAClCrF,UAAU,EAAAA,UAAA;MACVsF,gBAAgB,EAAE1F,KAAK;MACvBuF,cAAc,EAAAA,cAAA;MACd3G,KAAK,EAAAA,KAAA;MACLwC,KAAK,EAAE,IAAI,CAACD;KACb,CAAC;IAEF,IAAMwE,YAAY,GAAGjH,eAAe,CAAC,IAAI,CAACC,KAAK,EAAEC,KAAK,CAAC;IACvD,OACEH,KAAA,CAACP,IAAI;MAACmH,KAAK,EAAEA,KAAM;MAAAO,QAAA,GACjBrH,IAAA,CAACL,IAAI;QACH2H,QAAQ,EAAE,IAAI,CAAChF,SAAU;QACzBiF,GAAG,EAAC,iBAAiB;QACrBT,KAAK,EAAEU,MAAM,CAACtD,eAAgB;QAAAmD,QAAA,EAE7B,CAACxF,UAAU,GAAG,IAAI,GACjB3B,KAAA,CAACP,IAAI;UAAA0H,QAAA,GACHnH,KAAA,CAACP,IAAI;YAEHmH,KAAK,EAAE,CAACU,MAAM,CAACC,iBAAiB,EAAER,QAAQ,CAACQ,iBAAiB,CAAE;YAAAJ,QAAA,GAE9DrH,IAAA,CAACL,IAAI;cACHmH,KAAK,EAAE,CACLU,MAAM,CAACE,wBAAwB,EAC/BT,QAAQ,CAACS,wBAAwB;YACjC,EAEJ,EAAA1H,IAAA,CAACT,KAAK;cACJuH,KAAK,EAAE,CAACG,QAAQ,CAACU,aAAa,CAAE;cAChCC,MAAM,EAAEC,OAAO,qCAAqC;YAAE,EAE1D;UAAA,GAbOT,YAaD,CACN,EAAAlH,KAAA,CAACP,IAAI,EAAAmI,aAAA,CAAAA,aAAA,KACC,IAAI,CAAChF,gBAAgB,CAACiF,WAAW;YACrCjB,KAAK,EAAE,CAACG,QAAQ,CAACe,MAAM,CAAE;YACzBC,WAAW,EAAE,KAAM;YAAAZ,QAAA,GAEnBrH,IAAA,CAACT,KAAK;cACJqI,MAAM,EAAEC,OAAO,gCAAgC,CAAE;cACjDK,UAAU,EAAC,SAAS;cACpBpB,KAAK,EAAE,CAACU,MAAM,CAACW,WAAW;YAAE,EAE9B,EAAAnI,IAAA,CAACL,IAAI;cAEHmH,KAAK,EAAE,CAACU,MAAM,CAACY,eAAe,EAAEnB,QAAQ,CAACmB,eAAe,CAAE;cAAAf,QAAA,EAE1DrH,IAAA,CAACL,IAAI;gBACHmH,KAAK,EAAE,CACLU,MAAM,CAACa,mBAAmB,EAC1BpB,QAAQ,CAACoB,mBAAmB;cAC5B;YAEN,GATOjB,YASD,CACN,EAAApH,IAAA,CAACL,IAAI;cAACmH,KAAK,EAAE,CAACU,MAAM,CAACc,WAAW,EAAErB,QAAQ,CAACqB,WAAW;YAAE,EAC1D;UAAA,EAAM,CACR;QAAA,CAAM;MACP,CACG,CACN,EAAC,IAAI,CAAClI,KAAK,CAACmI,YAAY,IAAI,IAAI,GAAG,IAAI,GACrCrI,KAAA,CAACP,IAAI;QAACmH,KAAK,EAAE,CAACU,MAAM,CAACgB,aAAa,EAAEvB,QAAQ,CAACuB,aAAa,CAAE;QAAAnB,QAAA,GACzDvF,QAAQ,IACP9B,IAAA,CAACN,gBAAgB;UACfoH,KAAK,EAAE,CAACU,MAAM,CAACiB,YAAY,EAAE;YAAEC,eAAe,EAAE5G;UAAQ,CAAE,CAAE;UAC5D6G,OAAO,EAAE,IAAI,CAAChG,mBAAoB;UAClCiG,aAAa,EAAE;QAAI,EAEtB,EACD5I,IAAA,CAACN,gBAAgB;UACfoH,KAAK,EAAE,CAACU,MAAM,CAACiB,YAAY,EAAE;YAAEC,eAAe,EAAE3B;UAAa,CAAE,CAAE;UACjE4B,OAAO,EAAE,IAAI,CAACjG,gBAAiB;UAC/BkG,aAAa,EAAE;QAAI,EAEvB;MAAA,CAAM,CACP;IAAA,CACG,CAAC;EAEX,CAAC;EA/SajI,mBAAA,CAAAkI,YAAY,GAAyB;IACjDvI,kBAAkB,EAAE;GACrB;EA8SH,OAAAK,mBAAC;CAAA,CA3TwCtB,KAAK,CAACyJ,aAAa;SAA/CnI,mBAAmB;AA6ThC,SAASyF,mBAAmBA,CAACvE,UAAU;EACrC,IAAMkH,oBAAoB,GAAG,EAAE,GAAG,GAAG;EACrC,IAAMC,qBAAqB,GAAGD,oBAAoB,GAAGlH,UAAU;EAC/D,IAAMoH,aAAa,GAAGD,qBAAqB;EAC3C,IAAME,aAAa,GAAGF,qBAAqB,GAAG,CAAC;EAE/C,IAAMG,YAAY,GAAGtH,UAAU,GAAG,CAAC,GAAGqH,aAAa;EACnD,IAAME,cAAc,GAAGD,YAAY,GAAG,CAAC;EACvC,IAAM9C,cAAc,GAAI+C,cAAc,GAAG,CAAC,GAAI,CAAC;EAC/C,IAAM9C,aAAa,GAAG,CAAC,GAAG8C,cAAc,GAAG3I,IAAI,CAAC4I,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;EAE3D,OAAO;IACLF,YAAY,EAAAA,YAAA;IACZC,cAAc,EAAAA,cAAA;IACd/C,cAAc,EAAAA,cAAA;IACdC,aAAa,EAAAA,aAAA;IACbyC,oBAAoB,EAAAA,oBAAA;IACpBE,aAAa,EAAAA,aAAA;IACbC,aAAa,EAAAA;GACd;AACH;AAEA,IAAMhC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIhG,EAM3B;;MALC8F,cAAc,GAAA9F,EAAA,CAAA8F,cAAA;IACd3G,KAAK,GAAAa,EAAA,CAAAb,KAAA;IACLwB,UAAU,GAAAX,EAAA,CAAAW,UAAA;IACVsF,gBAAgB,GAAAjG,EAAA,CAAAiG,gBAAA;IAChBtE,KAAK,GAAA3B,EAAA,CAAA2B,KAAA;EAEC,IAAAyG,EAAA,GAMFlD,mBAAmB,CAACvE,UAAU,CAAC;IALjCsH,YAAY,GAAAG,EAAA,CAAAH,YAAA;IACZ9C,cAAc,GAAAiD,EAAA,CAAAjD,cAAA;IACdC,aAAa,GAAAgD,EAAA,CAAAhD,aAAA;IACb2C,aAAa,GAAAK,EAAA,CAAAL,aAAA;IACbC,aAAa,GAAAI,EAAA,CAAAJ,aACoB;EAGnC,IAAMK,eAAe,GAAG1H,UAAU,GAAG,CAAC,GAAGoH,aAAa,GAAG,CAAC,GAAGC,aAAa;EAC1E,IAAM3E,EAAE,GAAG1C,UAAU,GAAG,CAAC;EACzB,IAAM2C,EAAE,GAAG3C,UAAU,GAAG,CAAC;EACzB,IAAM4C,EAAE,GAAGhE,IAAI,CAAC+I,GAAG,CAACnJ,KAAK,CAAC,GAAGkJ,eAAe;EAC5C,IAAM7E,EAAE,GAAGjE,IAAI,CAACgJ,GAAG,CAACpJ,KAAK,CAAC,GAAGkJ,eAAe;EAG5C,IAAMG,WAAW,GAAGR,aAAa,GAAG,CAAC;EACrC,IAAMS,YAAY,GAAGT,aAAa,GAAG,CAAC;EACtC,IAAMU,aAAa,GAAG,CAACvJ,KAAK,GAAGI,IAAI,CAACoE,EAAE,GAAG,CAAC;EAG1C,IAAMgF,WAAW,GAAG,iBAAiB;EAC7B,IAAAlI,CAAC,GAAWwF,gBAAgB,CAAAxF,CAA3B;IAAEC,CAAC,GAAQuF,gBAAgB,CAAAvF,CAAxB;IAAEF,CAAC,GAAKyF,gBAAgB,CAAAzF,CAArB;EACf,IAAMoI,eAAe,GAAG,EAAE;EAC1B,IAAMC,GAAG,GAAGnI,CAAC,GAAGyE,cAAc;EAC9B,IAAMR,MAAM,GAAGS,aAAa,GAAG,CAAC,GAAG1E,CAAC,IAAI0E,aAAa,GAAG,CAAC,CAAC;EAC1D,IAAM0D,GAAG,GAAGrI,CAAC,IAAI2E,aAAa,GAAG,CAAC,GAAGT,MAAM,CAAC,GAAGA,MAAM;EACrD,IAAMoE,qBAAqB,GAAG,CAACpI,UAAU,GAAGyE,aAAa,IAAI,CAAC;EAC9D,IAAM4D,oBAAoB,GAAG,CAACrI,UAAU,GAAI,CAAC,GAAGwE,cAAc,GAAI,CAAC,IAAI,CAAC;EAExE,IAAMtB,GAAG,GAAG,CAACrD,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG;EACjC,IAAMiD,GAAG,GAAII,GAAG,GAAGtE,IAAI,CAACoE,EAAE,GAAI,GAAG;EACjC,IAAM4B,MAAM,GAAG;IAAEtF,CAAC,EAAEU,UAAU,GAAG,CAAC;IAAET,CAAC,EAAES,UAAU,GAAG;EAAC,CAAE;EACvD,IAAMsI,eAAe,GAAG;IACtBhJ,CAAC,EAAE+I,oBAAoB,GAAGH,GAAG;IAC7B3I,CAAC,EAAE6I,qBAAqB,GAAGD;GAC5B;EACD,IAAMI,gBAAgB,GAAGtK,WAAW,CAACqK,eAAe,EAAExF,GAAG,EAAE8B,MAAM,CAAC;EAElE,OAAO;IACLuB,MAAM,EAAE;MACNqC,OAAO,EAAEnB,aAAa;MACtBhH,KAAK,EAAEL,UAAU;MACjBM,MAAM,EAAEN;KACT;IACDuG,eAAe,GAAApF,EAAA;MACbwD,GAAG,EAAEjC,EAAE,GAAGE,EAAE,GAAGwE,aAAa,GAAG;OAC/BjG,EAAA,CAACH,KAAK,GAAG,OAAO,GAAG,MAAM,IAAG2B,EAAE,GAAGE,EAAE,GAAGuE,aAAa,GAAG,CAAC,EACvDjG,EAAA,CAAAd,KAAK,GAAE+G,aAAa,EACpBjG,EAAA,CAAAb,MAAM,GAAE8G,aAAa,EACrBjG,EAAA,CAAAsH,SAAS,GAAE,CACT;MACEC,MAAM,EAAE,CAAClK,KAAK,GAAG;KAClB,CACF,E,GACF;IACDgI,mBAAmB,EAAE;MACnBlG,MAAM,EAAE8G,aAAa,GAAG,CAAC;MACzBP,eAAe,EAAEmB;KAClB;IACDvB,WAAW,GAAAkC,EAAA;MACThE,GAAG,EAAE4D,gBAAgB,CAACjJ,CAAC,GAAG2I,eAAe,GAAG;OAC5CU,EAAA,CAAC3H,KAAK,GAAG,OAAO,GAAG,MAAM,IAAGuH,gBAAgB,CAAChJ,CAAC,GAAG0I,eAAe,GAAG,CAAC,EACpEU,EAAA,CAAAtI,KAAK,GAAE4H,eAAe,EACtBU,EAAA,CAAArI,MAAM,GAAE2H,eAAe,EACvBU,EAAA,CAAAC,YAAY,GAAEX,eAAe,GAAG,CAAC,EACjCU,EAAA,CAAAE,WAAW,GAAEb,WAAW,E,GACzB;IACDpC,iBAAiB,EAAE;MACjBvF,KAAK,EAAEiH,YAAY;MACnBhH,MAAM,EAAEgH,YAAY;MACpBmB,SAAS,EAAE,CACT;QACEC,MAAM,EAAEX,aAAa,GAAG;OACzB,CACF;MACDpD,GAAG,EAAEkD,WAAW;MAChBnD,IAAI,EAAEoD;KACP;IACDhC,aAAa,EAAE;MACbzF,KAAK,EAAEoE,aAAa;MACpBnE,MAAM,EAAEkE;KACT;IACDqB,wBAAwB,EAAE;MACxBnB,IAAI,EAAE,CAAC4C,YAAY,GAAG7C,aAAa,IAAI,CAAC;MACxCqE,eAAe,EAAErE,aAAa,GAAG,CAAC;MAClCsE,gBAAgB,EAAEtE,aAAa,GAAG,CAAC;MACnCuE,iBAAiB,EAAExE,cAAc;MACjCyE,iBAAiB,EAAE9D;KACpB;IACDwB,aAAa,EAAE;MACbrG,MAAM,EAAEN,UAAU,GAAG;;GAExB;AACH,CAAC;AAED,IAAM2F,MAAM,GAAG/H,UAAU,CAACsL,MAAM,CAAC;EAC/B7G,eAAe,EAAE;IACf8G,IAAI,EAAE,CAAC;IACPC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;GACjB;EACD/C,WAAW,EAAE;IACX6C,IAAI,EAAE,CAAC;IACP9I,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE;GACT;EACDiG,eAAe,EAAE;IACf+C,QAAQ,EAAE,UAAU;IACpBF,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;GACjB;EACDzD,iBAAiB,EAAE;IACjB0D,QAAQ,EAAE,UAAU;IACpBF,UAAU,EAAE;GACb;EACDvD,wBAAwB,EAAE;IACxByD,QAAQ,EAAE,UAAU;IACpB3E,GAAG,EAAE,CAAC;IACNtE,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE,CAAC;IACTuG,eAAe,EAAE,aAAa;IAC9B0C,WAAW,EAAE,OAAO;IACpBC,eAAe,EAAE,aAAa;IAC9BC,gBAAgB,EAAE;GACnB;EACDC,eAAe,EAAE;IACfN,UAAU,EAAE;GACb;EACD3C,WAAW,EAAE;IACX6C,QAAQ,EAAE,UAAU;IACpBK,WAAW,EAAE;GACd;EACDnD,mBAAmB,EAAE;IACnBnG,KAAK,EAAE;GACR;EACDsG,aAAa,EAAE;IACbiD,aAAa,EAAE;GAChB;EACDhD,YAAY,EAAE;IACZuC,IAAI,EAAE;;CAET,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}