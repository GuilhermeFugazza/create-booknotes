{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport { useCallback, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useFocusEffect, useNavigation } from '@react-navigation/native';\nimport Logo from \"../assets/booknoteswhite.svg\";\nimport { OptBar } from \"../components/OptBar\";\nimport { api } from \"../lib/axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Home() {\n  var _useNavigation = useNavigation(),\n    navigate = _useNavigation.navigate;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    books = _useState4[0],\n    setBooks = _useState4[1];\n  var fetchData = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var response = yield api.get('/books');\n        setBooks(response.data);\n        console.log(response.data);\n      } catch (error) {\n        Alert.alert('Ops :(', 'Não encontramos nenhum livro cadastrado');\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useFocusEffect(useCallback(function () {\n    fetchData();\n  }, []));\n  return _jsxs(_StyledComponent, {\n    className: \"flex-1 bg-background pt-16 justify-center\",\n    component: View,\n    children: [_jsxs(ScrollView, {\n      showsVerticalScrollIndicator: false,\n      contentContainerStyle: {\n        paddingBottom: 50\n      },\n      children: [_jsx(_StyledComponent, {\n        className: \"w-full flex-row items-top justify-center px-8\",\n        component: View,\n        children: _jsx(Logo, {})\n      }), _jsx(_StyledComponent, {\n        className: \"flex-row flex-wrap px-1 justify-start\",\n        component: View,\n        children: loading ? _jsx(Text, {\n          style: {\n            color: 'white',\n            textAlign: 'center'\n          },\n          children: \"Carregando...\"\n        }) : books != null && books.length ? books.map(function (book) {\n          return _jsx(_StyledComponent, {\n            className: \"w-28 h-40 items-center justify-center bg-gray-700 m-2 rounded-lg px-2\",\n            activeOpacity: 0.7,\n            onPress: function onPress() {\n              if (book.id) {\n                console.log(book.id);\n                navigate('book', {\n                  bookId: book.id\n                });\n              }\n            },\n            component: TouchableOpacity,\n            children: _jsx(Text, {\n              style: {\n                color: 'white',\n                textAlign: 'center'\n              },\n              children: book.title\n            })\n          }, book.id);\n        }) : _jsx(Text, {\n          style: {\n            color: 'white',\n            textAlign: 'center'\n          },\n          children: \"Nenhum livro encontrado\"\n        })\n      })]\n    }), _jsx(OptBar, {})]\n  });\n}\n_NativeWindStyleSheet.create({\n  styles: {\n    \"m-2\": {\n      \"marginTop\": 8,\n      \"marginRight\": 8,\n      \"marginBottom\": 8,\n      \"marginLeft\": 8\n    },\n    \"h-40\": {\n      \"height\": 160\n    },\n    \"w-28\": {\n      \"width\": 112\n    },\n    \"w-full\": {\n      \"width\": \"100%\"\n    },\n    \"flex-1\": {\n      \"flexGrow\": 1,\n      \"flexShrink\": 1,\n      \"flexBasis\": \"0%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"flex-wrap\": {\n      \"flexWrap\": \"wrap\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-start\": {\n      \"justifyContent\": \"flex-start\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"rounded-lg\": {\n      \"borderTopLeftRadius\": 8,\n      \"borderTopRightRadius\": 8,\n      \"borderBottomRightRadius\": 8,\n      \"borderBottomLeftRadius\": 8\n    },\n    \"bg-background\": {\n      \"backgroundColor\": \"#09090a\"\n    },\n    \"bg-gray-700\": {\n      \"backgroundColor\": \"#374151\"\n    },\n    \"px-1\": {\n      \"paddingLeft\": 4,\n      \"paddingRight\": 4\n    },\n    \"px-2\": {\n      \"paddingLeft\": 8,\n      \"paddingRight\": 8\n    },\n    \"px-8\": {\n      \"paddingLeft\": 32,\n      \"paddingRight\": 32\n    },\n    \"pt-16\": {\n      \"paddingTop\": 64\n    }\n  }\n});","map":{"version":3,"names":["useCallback","useState","Text","View","ScrollView","Alert","TouchableOpacity","useFocusEffect","useNavigation","Logo","OptBar","api","jsx","_jsx","jsxs","_jsxs","Home","_useNavigation","navigate","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","books","setBooks","fetchData","_ref","_asyncToGenerator","response","get","data","console","log","error","alert","apply","arguments","_StyledComponent","className","component","children","showsVerticalScrollIndicator","contentContainerStyle","paddingBottom","style","color","textAlign","length","map","book","activeOpacity","onPress","id","bookId","title","_NativeWindStyleSheet","create","styles"],"sources":["C:/Users/beatr/OneDrive/Área de Trabalho/ppo/create-booknotes/mobile/src/screens/Home.tsx"],"sourcesContent":["import { useCallback, useState, useEffect } from 'react';\r\nimport { Text, View, ScrollView, Alert, Touchable, TouchableOpacity } from 'react-native';\r\nimport { useFocusEffect, useNavigation } from '@react-navigation/native';\r\nimport Logo from '../assets/booknoteswhite.svg';\r\nimport { Header } from '../components/Header';\r\nimport { Loading } from '../components/Loading';\r\nimport { BookButton } from '../components/BookButton';\r\nimport { OptBar } from '../components/OptBar';\r\nimport { api } from '../lib/axios';\r\n\r\ntype BooksProps = Array<{\r\n  id: string;\r\n  title: string;\r\n  author: string;\r\n  pcompany: string;\r\n}>\r\n\r\nexport function Home() {\r\n  const { navigate } = useNavigation();\r\n  const [loading, setLoading] = useState(true);\r\n  const [books, setBooks] = useState<BooksProps | null>(null);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/books');\r\n      setBooks(response.data);\r\n      console.log(response.data);\r\n    } catch (error) {\r\n      Alert.alert('Ops :(', 'Não encontramos nenhum livro cadastrado');\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      fetchData();\r\n    }, [])\r\n  );\r\n\r\n\r\n  return (\r\n    <View className='flex-1 bg-background pt-16 justify-center'>\r\n      <ScrollView\r\n        showsVerticalScrollIndicator={false}\r\n        contentContainerStyle={{ paddingBottom: 50 }}\r\n      >\r\n        <View className='w-full flex-row items-top justify-center px-8'>\r\n          <Logo />\r\n        </View>\r\n        <View className='flex-row flex-wrap px-1 justify-start'>\r\n          {loading ? (\r\n            <Text style={{ color: 'white', textAlign: 'center' }}>Carregando...</Text>\r\n          ) : books?.length ? (\r\n            books.map((book) => (\r\n              <TouchableOpacity\r\n                key={book.id}\r\n                className=\"w-28 h-40 items-center justify-center bg-gray-700 m-2 rounded-lg px-2\"\r\n                activeOpacity={0.7}\r\n                onPress={() => {\r\n                  // Garanta que book.id está definido antes de navegar\r\n                  if (book.id) {\r\n                    console.log(book.id)\r\n                    navigate('book', { bookId: book.id });\r\n                  }\r\n                }}\r\n              >\r\n                <Text style={{ color: 'white', textAlign: 'center' }}>{book.title}</Text>\r\n              </TouchableOpacity>\r\n            ))\r\n          ) : (\r\n            <Text style={{ color: 'white', textAlign: 'center' }}>Nenhum livro encontrado</Text>\r\n          )}\r\n        </View>\r\n\r\n      </ScrollView>\r\n      <OptBar />\r\n    </View>\r\n  )\r\n} "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}